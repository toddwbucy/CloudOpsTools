{
  "complexity": "complex",
  "workflow_type": "refactor",
  "confidence": 0.95,
  "reasoning": "Repository-wide rebranding affecting 55+ files across frontend, backend, infrastructure, and documentation. Includes infrastructure changes (Docker, database rename, S3 migration) and cross-cutting modifications to session cookies, localStorage keys, and configuration. High risk due to user session impact and coordination requirements.",

  "analysis": {
    "scope": {
      "estimated_files": 55,
      "estimated_services": 4,
      "is_cross_cutting": true,
      "notes": "Affects frontend (HTML/CSS/JS), backend (Python), infrastructure (Docker/DB/S3), and all documentation. Truly cross-cutting refactor."
    },
    "integrations": {
      "external_services": ["AWS S3"],
      "new_dependencies": [],
      "research_needed": true,
      "notes": "S3 bucket migration requires coordination and investigation of migration strategies. No new dependencies, but need to research migration best practices."
    },
    "infrastructure": {
      "docker_changes": true,
      "database_changes": true,
      "config_changes": true,
      "notes": "Dockerfile updates, database name change (pcm_ops â†’ cloudopstools), S3 bucket URL migration, session cookie renaming, localStorage key changes, and extensive config file updates."
    },
    "knowledge": {
      "patterns_exist": true,
      "research_required": true,
      "unfamiliar_tech": [],
      "notes": "Rebranding pattern is straightforward, but requires research into migration strategies for DB, S3, and backwards compatibility approaches. No new technologies involved."
    },
    "risk": {
      "level": "high",
      "concerns": [
        "Database migration may require downtime",
        "Session cookie name changes will invalidate all active user sessions",
        "LocalStorage key changes will affect client-side state",
        "S3 bucket migration requires external coordination and careful planning",
        "55+ files creates high probability of missing references",
        "Backwards compatibility during transition period"
      ],
      "notes": "High user impact from session invalidation. Infrastructure dependencies (S3, DB) require careful coordination. Large surface area (55+ files) increases risk of incomplete migration."
    }
  },

  "recommended_phases": [
    "discovery",
    "requirements",
    "research",
    "context",
    "spec_writing",
    "self_critique",
    "planning",
    "validation"
  ],

  "flags": {
    "needs_research": true,
    "needs_self_critique": true,
    "needs_infrastructure_setup": true
  },

  "validation_recommendations": {
    "risk_level": "high",
    "skip_validation": false,
    "minimal_mode": false,
    "test_types_required": ["unit", "integration", "e2e"],
    "security_scan_required": true,
    "staging_deployment_required": true,
    "reasoning": "Infrastructure changes (Docker, database rename, S3 migration) combined with session-breaking changes require comprehensive testing. Security scan needed for session cookie modifications. Staging deployment critical to verify database migration and Docker orchestration work correctly before production."
  },

  "created_at": "2025-12-30T12:50:15.000000Z"
}
